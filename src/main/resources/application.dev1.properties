# Nome da aplicação
spring.application.name=finControl

# Configurações externas
spring.config.import=optional:file:config/application-email.properties
spring.profiles.default=dev

# Configurações comuns de JPA e Hibernate
#spring.jpa.open-in-view=false
#spring.jpa.properties.hibernate.jdbc.use_get_generated_keys=false
#spring.jpa.properties.hibernate.id.new_generator_mappings=false
#spring.jpa.properties.hibernate.globally_quoted_identifiers=true
#spring.jpa.properties.hibernate.cache.use_query_cache=false
#spring.jpa.properties.hibernate.cache.use_second_level_cache=false

# JPA/Hibernate em produção
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.generate_statistics=false
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_size=50

# Cache
spring.cache.type=caffeine

# Configurações de sessão
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=${APP_SESSION_COOKIE_SECURE:false}

# Actuator (restrito por padrão)
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=when_authorized
management.endpoint.health.roles=ACTUATOR
management.endpoint.health.probes.enabled=true

# Métricas e Prometheus
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true
management.metrics.tags.application=${spring.application.name}

# Logging padrão
logging.level.br.com.meuGasto=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Swagger/OpenAPI
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false

# Configurações de e-mail (valores padrão, sobrescrever via variáveis de ambiente ou perfil)
spring.mail.username=${MAIL_USERNAME:noreply@example.com}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.test-connection=false
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.properties.mail.smtp.ssl.trust=${MAIL_SMTP_SSL_TRUST:smtp.gmail.com}
spring.mail.properties.mail.smtp.connectiontimeout=${MAIL_SMTP_CONNECTION_TIMEOUT:5000}
spring.mail.properties.mail.smtp.timeout=${MAIL_SMTP_TIMEOUT:5000}
spring.mail.properties.mail.smtp.writetimeout=${MAIL_SMTP_WRITE_TIMEOUT:5000}

# Retry (pode ser ajustado por perfil)
spring.retry.max-attempts=${SPRING_RETRY_MAX_ATTEMPTS:3}
spring.retry.initial-interval=${SPRING_RETRY_INITIAL_INTERVAL:1000}
spring.retry.multiplier=${SPRING_RETRY_MULTIPLIER:2.0}
spring.retry.max-interval=${SPRING_RETRY_MAX_INTERVAL:10000}

# Configuração do limite de gasto para notificações
app.notificacao.limite-gasto=${APP_NOTIFICACAO_LIMITE_GASTO:1000.00}
